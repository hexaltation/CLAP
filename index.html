<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CLAP Demo Page</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <H1>Welcome to CLAP demo page</H1>
    <div class='colorLevel'></div>
    <div class='colorLevel'></div>
    <div class='colorLevel'></div>
    <script src="clap.js"></script>
    <script>
      let canvas_default_1 ={
          "width":130,
          "height":130,
          "background":"#BBBBBB",
      }
      let canvas_default_2 ={
          "width":1200,
          "height":50,
          "background":"#000000",
          "margin":15,
          "lineWidth":1,
          "handlerSize":15,
          "min":128
      }
      let canvas_default_3 ={
          "width":150,
          "height":300,
          "background":"#555555",
          "margin":5,
          "min":-100,
          "max":-50
      }
      let clap_counter = 0
      let containers = document.getElementsByClassName('colorLevel');

      for (let container of containers){
          clap_counter ++;
          let settings = {};
          if (clap_counter==1){
            settings = canvas_default_1;
          }else if (clap_counter==2){
            settings = canvas_default_2;
          }
          else if (clap_counter==3){
            settings = canvas_default_3;
          }
          new Clap(container, clap_counter, settings);
      }
      document.addEventListener('clap_change', (evt)=>{
        console.log(evt.colorLevels);
      })
    </script>
  </body>
</html>
